<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>메뉴 밑줄 슬라이딩 애니메이션</title>
    <style>
        #horizontal {display: flex; margin-bottom: 2em; justify-content: center;}
        #vertical{display: flex;flex-direction: column;align-items: center;}
        nav a {margin: 1em;font-size: 2em;color:black;text-decoration: none;}
        nav div {position: absolute;height: 4px; border-radius: 3px;
            transition: 0.5s;}
        #horizontal div{background-color: pink;}
        #vertical div{background-color: skyblue;}
    </style>
    <script>
        window.addEventListener('load', function(){
            /* 가로형 메뉴 */
            let menus = document.querySelectorAll("nav a");
            let horizontal = document.querySelector("#horizontal a");
            let vertical = document.querySelector("#vertical a");

            function indicator(e, bool) {
                let left = e.offsetLeft + "px";
                let width = e.offsetWidth + "px";
                let top = e.offsetTop + e.offsetHeight + "px";
                let underline = bool ? e.closest('#horizontal').querySelector('div') : e.closest('#vertical').querySelector('div');
                underline.setAttribute('style', `left:${left}; width:${width};top:${top};`);
            }

            indicator(horizontal, true);
            indicator(vertical, false);

            menus.forEach((menu) =>{
                menu.addEventListener("click", (e) =>{
                    e.target.closest('#horizontal') ? indicator(e.target, true) : indicator(e.target, false);
                })
           })
        })
    </script>
</head>
<body>
    <!-- 가로형 메뉴 -->
    <nav id="horizontal">
        <div></div>
        <a href="#">About</a>
        <a href="#">Menu</a>
        <a href="#">Store</a>
        <a href="#">Service</a>
        <a href="#">Responsibility</a>
    </nav>
    <!-- //가로형 메뉴 -->

    <!-- 세로형 메뉴 -->
    <nav id="vertical">
        <div></div>
        <a href="#">About</a>
        <a href="#">Menu</a>
        <a href="#">Store</a>
        <a href="#">Service</a>
        <a href="#">Responsibility</a>
    </nav>
    <!-- //세로형 메뉴 -->


</body>
</html>